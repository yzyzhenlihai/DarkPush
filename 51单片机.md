STC89C52 系统频率=12MHZ

单片机上电时，所有IO口默认都是高电平.

对于机械开关，在触点断开或闭合时，会伴随一连串抖动   5-10ms左右，所以判断按键按下后需要给一定的延迟



74HC245双向数据缓冲器   DIR控制缓冲的方向  提高驱动能力 放大电压

数码管消隐

位选	段选 	位选	段选 		在开始第二个位选时，上一个段选还存在，而下一个段选还没有到，会导致数码管显示窜位。

数码管驱动方式：

1. 单片机直接扫描，设备简单，但会消耗大量时间
2. 专用驱动芯片，自带显存扫描电路，单片机只需要告诉他显示什么。TM1640（两根线控制16个数码管），74HC595（三根线控制八个数码管）





LCD1602调试工具





定时器属于单片机的内部设备，这样可以边流水灯，边扫描矩阵键盘。

定时器/计数器有**中断控制**寄存器TCON和**工作模式**寄存器TMOD

寄存器**可位寻址**：表示寄存器可以单独位赋值。**不可位寻址**则是只能整体赋值



**设置模式寄存器TMOD:**

模式寄存器位不可位寻址，设置不同定时器时，可能会更改以及设置的值，所以通过下面这种方式，在不更改别的定时器模式的情况下，设置目标定时器模式

TMOD &= 0xF0;		//设置定时器模式，高四位不变，低四位清零
TMOD |= 0x01;		//设置定时器模式，高四位不变，第四位设置值



**串口通信：**串口相当于是通信接口

电平标准：

**TTL电平 ：**  1为+5V   0为0V ；**RS232电平：**-3~-15表示1 	+3~+15表示0；**RS485电平：** 两线压差 +2~+6表示1 -2~-6表示0（差分信号）



![image-20230917214402027](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20230917214402027.png)



![image-20230918191936010](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20230918191936010.png)



**IO接口与串口有什么关系？**串口是IO接口的一种，它是一种用于串行数据传输的接口。IO接口则是一个更广泛的概念，包括了多种类型的接口，用于实现计算机与外部设备之间的数据输入和输出。



**定时器自动重装模式？**

由于晶振原因，波特率高了会有很大误差，所以这里选择4800的波特率。

串口发送数据的速率是由定时器提供的，51单片机串口使用的是定时器1，定时器的初值与传输的波特率有关

串口发送数据和接收数据都会产生中断，但是在实验中串口发送数据时没有利用中断

**串口中断？**

74HC595是串行输入并行输出的移位寄存器。单片机的IO口是弱上拉，表示高电平很弱，低电平很强，所以在驱动数码管或者点阵屏阳极的时候，需要利用驱动芯片来增加驱动。

SER端口串行输入数据，SRCLK为时钟，上升沿写入移入一位数据，每次移入的是最高位的数据，RCLK上升沿锁存

点阵屏内部连线情况

![image-20231029200909907](C:\Users\86159\AppData\Roaming\Typora\typora-user-images\image-20231029200909907.png)



移动点阵屏：可以采用软件延时移动，也可以定义一个定时器定时移动



定义数组时，会被默认放入程序运行时的暂存器RAM中，还有一种是放在程序存储器的flash中的，在定义数组时加上code

，就能将一般不会发生变化的数组放在flash，flash内存比较大，此时数组不能够再修改。这样可以把RAM的空间腾出来做其他事情。



DS1302时钟芯片